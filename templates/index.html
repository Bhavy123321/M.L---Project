{% extends "base.html" %}
{% set title = brand_name ~ " ‚Ä¢ Predict" %}

{% block content %}
<section class="heroWrap">
  <div class="container">
    <div class="row g-4 align-items-stretch">

      <div class="col-lg-6">
        <div class="heroCard">
          <div class="pill">Next-Gen ML UI ‚Ä¢ Fast ‚Ä¢ Clean</div>

          <h1 class="heroTitle">Loan Approval Prediction</h1>
          <p class="heroText">
            Enter applicant details and get a modern prediction with probability, confidence and helpful hints.
            Designed to impress in demos and project evaluations.
          </p>

          <div class="trustStrip">
            <div class="trustItem">
              <div class="trustIcon">‚ö°</div>
              <div>
                <div class="trustTitle">Instant Result</div>
                <div class="trustSub">Fast inference</div>
              </div>
            </div>

            <div class="trustItem">
              <div class="trustIcon">üõ°Ô∏è</div>
              <div>
                <div class="trustTitle">Validations</div>
                <div class="trustSub">Clean inputs</div>
              </div>
            </div>

            <div class="trustItem">
              <div class="trustIcon">‚ú®</div>
              <div>
                <div class="trustTitle">Premium UI</div>
                <div class="trustSub">Glass design</div>
              </div>
            </div>
          </div>

          <div class="miniStats">
            <div class="miniStat">
              <div class="miniTop">Real-time</div>
              <div class="miniBig">Prediction</div>
            </div>
            <div class="miniStat">
              <div class="miniTop">Smart</div>
              <div class="miniBig">Hints</div>
            </div>
            <div class="miniStat">
              <div class="miniTop">Teacher-Ready</div>
              <div class="miniBig">Demo</div>
            </div>
          </div>

          <div class="featureRow">
            <div class="featureCard">
              <div class="fTop">How it works</div>
              <div class="fBig">Input ‚Üí Model ‚Üí Result</div>
              <div class="fSub">Preprocessing + classification pipeline</div>
            </div>
            <div class="featureCard">
              <div class="fTop">Export-ready</div>
              <div class="fBig">Screenshots</div>
              <div class="fSub">Perfect for report/viva</div>
            </div>
          </div>

          <div class="quickLinks">
            <a class="qBtn" href="/about">About</a>
            <a class="qBtn" href="/reviews">Reviews</a>
            <a class="qBtn" href="{{ social.github }}" target="_blank" rel="noreferrer">Source</a>
          </div>

        </div>
      </div>

      <div class="col-lg-6">
        <div class="glassCard">
          <div class="cardHead">
            <div>
              <div class="cardTitle">Applicant Form</div>
              <div class="cardSub">DTI example: 0.35</div>
            </div>
            <div class="badgeSoft d-none d-sm-inline">Pipeline Model</div>
          </div>

          {% if error %}
            <div class="alert alert-danger mt-3">
              <b>Fix this:</b> {{ error }}
            </div>
          {% endif %}

          <form action="/predict" method="POST" class="row g-3 mt-2">
            <div class="col-md-6">
              <label class="form-label">Age</label>
              <input class="form-control form-control-lg" name="Age" type="number" required
                     value="{{ form.Age if form else '' }}" placeholder="e.g. 28">
            </div>

            <div class="col-md-6">
              <label class="form-label">Income</label>
              <input class="form-control form-control-lg" name="Income" type="number" required
                     value="{{ form.Income if form else '' }}" placeholder="e.g. 60000">
            </div>

            <div class="col-md-6">
              <label class="form-label">Loan Amount</label>
              <input class="form-control form-control-lg" name="LoanAmount" type="number" required
                     value="{{ form.LoanAmount if form else '' }}" placeholder="e.g. 15000">
            </div>

            <div class="col-md-6">
              <label class="form-label">Credit Score</label>
              <input class="form-control form-control-lg" name="CreditScore" type="number" required
                     value="{{ form.CreditScore if form else '' }}" placeholder="e.g. 720">
            </div>

            <div class="col-md-6">
              <label class="form-label">DTI Ratio</label>
              <input class="form-control form-control-lg" name="DTIRatio" type="text" required
                     value="{{ form.DTIRatio if form else '' }}" placeholder="e.g. 0.35">
              <div class="helpText">DTI = total debt payments / income (0 to 1+)</div>
            </div>

            <div class="col-md-6">
              <label class="form-label">Education</label>
              <select class="form-select form-select-lg" name="Education" required>
                <option value="" disabled {% if not form %}selected{% endif %}>Select</option>
                {% for opt in education_options %}
                  <option value="{{ opt }}" {% if form and form.Education == opt %}selected{% endif %}>{{ opt }}</option>
                {% endfor %}
              </select>
            </div>

            <div class="col-12">
              <label class="form-label">Employment Type</label>
              <select class="form-select form-select-lg" name="EmploymentType" required>
                <option value="" disabled {% if not form %}selected{% endif %}>Select</option>
                {% for opt in employment_options %}
                  <option value="{{ opt }}" {% if form and form.EmploymentType == opt %}selected{% endif %}>{{ opt }}</option>
                {% endfor %}
              </select>
            </div>

            <div class="col-12 d-grid mt-2">
              <button class="btn btnGlow btn-lg">
                Predict Now
                <span class="btnShine"></span>
              </button>
            </div>
          </form>

          <div class="divider"></div>

          <div class="microTips">
            <div class="microTip">‚úÖ Credit score 700+ helps</div>
            <div class="microTip">‚úÖ DTI below 0.40 is safer</div>
            <div class="microTip">‚úÖ Stable employment matters</div>
          </div>

        </div>
      </div>

    </div>
  </div>
</section>
{% endblock %}
